# 摩托车数据小程序

## 项目概述

这是一个功能完整的摩托车数据小程序，提供摩托车信息查询、对比、收藏、评价等功能。

## 功能特性

### 核心功能
- ✅ 微信小程序原生开发
- ✅ 摩托车数据展示（列表、详情、搜索、筛选）
- ✅ 用户系统（微信授权登录、个人中心）
- ✅ 收藏和分享功能
- ✅ 搜索功能（关键词搜索、历史记录）
- ✅ 图片浏览（图片预览、轮播展示）
- ✅ 评价系统（查看评价、点赞功能）
- ✅ 性能优化（分包加载、缓存策略）

### 小程序特色功能
- ✅ 微信授权登录
- ✅ 分享到微信群/朋友圈
- ✅ 小程序码生成
- ✅ 客服消息
- ✅ 位置服务
- ✅ 扫码功能

### 页面结构
1. **首页** (`pages/index/index`) - 摩托车展示、搜索入口、分类导航
2. **列表页** (`pages/list/list`) - 摩托车列表、筛选排序
3. **详情页** (`pages/detail/detail`) - 摩托车详细信息、图片展示、参数对比
4. **搜索页** (`pages/search/search`) - 搜索框、历史记录、热门搜索
5. **个人中心** (`pages/profile/profile`) - 用户信息、收藏管理、设置
6. **收藏页** (`pages/favorites/favorites`) - 收藏管理

### 组件系统
- **摩托车卡片组件** (`components/motorcycle-card`) - 复用的摩托车展示卡片
- **搜索组件** - 集成在搜索页面
- **筛选器组件** - 集成在列表页面
- **图片轮播组件** - 集成在详情页面
- **评价展示组件** - 集成在详情页面
- **分享组件** - 全局分享功能

## 技术架构

### 前端技术栈
- 微信小程序原生框架
- JavaScript ES6+
- WXSS样式
- WXML模板

### 文件结构
```
miniprogram/
├── app.js                     # 小程序入口文件
├── app.json                   # 小程序配置文件
├── app.wxss                   # 全局样式文件
├── sitemap.json              # 站点地图配置
├── project.config.json       # 项目配置文件
├── components/               # 组件目录
│   └── motorcycle-card/      # 摩托车卡片组件
├── pages/                    # 页面目录
│   ├── index/               # 首页
│   ├── list/                # 列表页
│   ├── detail/              # 详情页
│   ├── search/              # 搜索页
│   ├── profile/             # 个人中心
│   └── favorites/           # 收藏页
├── services/                # 服务层
│   ├── motorcycle.js       # 摩托车服务
│   ├── user.js             # 用户服务
│   └── review.js           # 评价服务
├── utils/                   # 工具类
│   ├── request.js          # 网络请求封装
│   └── util.js             # 通用工具函数
└── images/                  # 图片资源
```

### 服务层设计
- **motorcycleService** - 摩托车数据相关API
- **userService** - 用户相关API（登录、收藏、历史等）
- **reviewService** - 评价相关API

### 工具层设计
- **request.js** - 统一的网络请求封装，支持loading、错误处理、token认证
- **util.js** - 通用工具函数，包括时间格式化、价格格式化、防抖节流等

## 主要特性

### 1. 用户体验优化
- 下拉刷新和上拉加载更多
- 图片懒加载和预览功能
- 搜索防抖和建议提示
- 离线缓存和数据同步
- 响应式设计适配不同屏幕

### 2. 性能优化
- 分包加载减少首屏加载时间
- 图片压缩和CDN加速
- 数据缓存策略
- 组件化开发提高复用性

### 3. 数据管理
- 本地缓存（搜索历史、收藏、对比等）
- 服务器数据同步
- 用户状态管理
- 数据格式化和验证

### 4. 微信生态集成
- 微信登录和用户信息获取
- 分享功能（朋友圈、微信群）
- 客服功能集成
- 小程序码生成和识别

## API接口

### 后端API地址
- 开发环境: `http://localhost:5000/api`
- 生产环境: 配置在 `app.js` 的 `globalData.baseUrl`

### 主要接口
- `GET /motorcycles` - 获取摩托车列表
- `GET /motorcycles/:id` - 获取摩托车详情
- `POST /auth/wechat` - 微信登录
- `GET /user/favorites` - 获取收藏列表
- `POST /user/favorites` - 添加收藏
- `GET /reviews/:motorcycleId` - 获取评价列表

## 部署说明

### 1. 开发环境
1. 安装微信开发者工具
2. 导入项目目录
3. 配置AppID和服务器域名
4. 启动后端服务
5. 在开发者工具中预览和调试

### 2. 生产环境
1. 配置正式的AppID
2. 设置服务器域名白名单
3. 上传代码并提交审核
4. 发布上线

## 配置说明

### app.json 关键配置
- `pages` - 页面路径配置
- `tabBar` - 底部导航配置
- `networkTimeout` - 网络超时配置
- `permission` - 权限配置
- `subPackages` - 分包配置

### 环境变量
- `globalData.baseUrl` - API服务器地址
- `globalData.version` - 应用版本号

## 开发规范

### 代码规范
- 使用ES6+语法
- 统一的错误处理机制
- 组件化和模块化开发
- 注释和文档完整

### 命名规范
- 文件名使用小写+连字符
- 函数名使用驼峰命名
- 常量使用大写+下划线
- CSS类名使用连字符分隔

### 目录规范
- `pages/` - 页面文件
- `components/` - 公共组件
- `services/` - 业务逻辑服务
- `utils/` - 工具函数
- `images/` - 静态资源

## 扩展功能

### 未来可扩展的功能
- [ ] 摩托车导购助手
- [ ] 在线试驾预约
- [ ] 经销商地图展示
- [ ] 摩托车社区功能
- [ ] 直播看车功能
- [ ] AR试车体验
- [ ] 金融计算器
- [ ] 保险服务集成

### 技术升级方向
- [ ] 云开发集成
- [ ] 实时消息推送
- [ ] 小程序直播
- [ ] 小程序码动态生成
- [ ] 更多微信开放能力集成

## 联系方式

如有问题或建议，请通过以下方式联系：
- 邮箱: support@motorcycle.com
- 微信: 扫描小程序二维码
- 电话: 400-123-4567